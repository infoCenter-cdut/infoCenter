webpackJsonp([7],{"6uB9":function(t,e){},BO2Y:function(t,e,s){t.exports=s.p+"static/img/N2.f8aa379.jpg"},Z91W:function(t,e){},"kA+A":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"myNews",created:function(){},mounted:function(){this.passage&&this.getNews()},data:function(){return{flag:!0,searching:"",searchShow:[],content:[],img:[],title:[],id:[],type:[],time:[],mgUrl:"",mgImg:"",mgTitle:""}},filters:{timeFormatter:function(t){var e=new Date(t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"},strNum:function(t,e){if(t)return t.substring(0,80)}},methods:{getNews:function(){var t=this,e=0;for(this.content=[],this.img=[],this.title=[],this.id=[],this.type=[],this.time=[],this.searchShow=[];e<this.passage.length;){var s=this.passage[e].content;this.$http.get("http://www.cdutzy.com"+s.slice(21)).then(function(e){t.content.push(e.data)},function(t){console.log(t)}),this.title.push(this.passage[e].title),this.img.push(this.passage[e].passage_img),this.id.push(this.passage[e].id),this.type.push(this.passage[e].Type),this.time.push(this.passage[e].passage_time),e++}this.initSearch()},prevPage:function(){var t=this;this.nowPage.previous&&(this.$http.get(this.nowPage.previous).then(function(e){t.$store.commit("setNowPage",e.data)}),document.body.scrollTop=document.documentElement.scrollTop=1)},nextPage:function(){var t=this;this.nowPage.next&&(this.$http.get(this.nowPage.next).then(function(e){t.$store.commit("setNowPage",e.data)}),document.body.scrollTop=document.documentElement.scrollTop=1)},open:function(){var t=this.$createElement;this.$notify({title:"tips",message:t("i",{style:"color: teal"},"无此项搜索结果哦"),duration:1500})},goSearch:function(){this.$router.push({path:"/allNews/"+this.searching})},initSearch:function(){var t=this;this.search?(this.searchShow=[],this.content.forEach(function(e,s){-1==e.indexOf(t.search)&&-1==t.title[s].indexOf(t.search)||t.searchShow.push(s)}),0==this.searchShow.length?(this.open(),this.flag=!1):this.flag=!0):this.flag=!1}},computed:{passage:function(){return this.$store.state.bannerImg},nowPage:function(){return this.$store.state.nowPage},search:function(){return this.$route.params.search}},watch:{passage:function(){this.getNews()},search:function(){this.initSearch()},searching:function(){this.searching||(this.flag=!1)}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"video-container"},[s("div",{staticClass:"video-main"},[t._l(t.img,function(e,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag||i in t.searchShow,expression:"!flag||i in searchShow"}],key:i,staticClass:"video-main-item"},[s("div",{staticClass:"video-main-item-img"},[s("img",{attrs:{src:e,alt:"",width:"100%"}})]),t._v(" "),s("div",{staticClass:"video-main-item-title"},[s("router-link",{attrs:{to:"/news/"+t.id[i]}},[s("h2",[t._v(t._s(t.title[i]))])]),t._v(" "),s("div",{staticClass:"video-main-item-info"},[s("a",{attrs:{href:"#"}},[t._v("文章类型")]),t._v("：\n          "),s("span",[t._v(t._s(t.type[i]))]),t._v("\n          -"+t._s(t._f("timeFormatter")(t.time[i]))+"\n        ")]),t._v(" "),s("p",[t._v(t._s(t._f("strNum")(t.content[i])))])],1),t._v(" "),s("div")])}),t._v(" "),s("div",{staticClass:"video-btn"},[s("div",{staticClass:"video-btn-left"},[s("el-button",{on:{click:t.prevPage}},[s("i",{staticClass:"fa fa-chevron-left"}),t._v(" "),t.nowPage&&!t.nowPage.previous?s("span",[t._v("暂无")]):t._e()])],1),t._v(" "),s("div",{staticClass:"video-btn-right"},[s("el-button",{on:{click:t.nextPage}},[t.nowPage&&!t.nowPage.next?s("span",[t._v("暂无")]):t._e(),t._v(" "),s("i",{staticClass:"fa fa-chevron-right"})])],1)])],2),t._v(" "),s("div",{staticClass:"video-aside"},[s("div",{staticClass:"video-aside-search"},[t._m(0),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searching,expression:"searching"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.searching},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.goSearch(e):null},input:function(e){e.target.composing||(t.searching=e.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"video-aside-magazine"},[s("h4",[t._v("杂志板块")]),t._v(" "),s("a",{attrs:{href:t.mgUrl}},[s("img",{attrs:{src:t.mgImg,alt:""}})]),t._v(" "),s("p",[t._v(t._s(t.mgTitle))])])]),t._v(" "),s("div",{staticStyle:{padding:"2rem"}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"pre-input"},[e("i",{staticClass:"icon icon-search"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-aside-about"},[e("h4",[this._v("新闻")]),this._v(" "),e("p",[this._v("闻中有新，妙笔生花，务实求真，一根笔杆，一双眼睛，一对耳朵，用心去听，用心去写，用全部力气和心血造就的每篇新闻。文字即力量。")])])}]};var n={name:"allNews",mounted:function(){},data:function(){return{flag:!1,bannerImg:[{first:"Materials collecting Depatment",second:"集思广益，与时俱进，只为带来更真实的文字",passage_img:s("oZeL")},{first:"Materials collecting Depatment",second:"集思广益，与时俱进，只为带来更真实的文字",passage_img:s("BO2Y")}]}},methods:{},components:{myNews:s("VU/8")(i,a,!1,function(t){s("Z91W")},"data-v-21b506d0",null).exports,mySlide:s("KA1d").a},computed:{screenWidth:function(){return this.$store.state.screenWidth}},watch:{}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("mySlide",{attrs:{bannerImg:this.bannerImg,height:this.screenWidth>767?82:62,imgType:2}}),this._v(" "),e("myNews")],1)},staticRenderFns:[]};var r=s("VU/8")(n,o,!1,function(t){s("6uB9")},"data-v-70dd669a",null);e.default=r.exports},oZeL:function(t,e,s){t.exports=s.p+"static/img/N1.207162c.jpg"}});